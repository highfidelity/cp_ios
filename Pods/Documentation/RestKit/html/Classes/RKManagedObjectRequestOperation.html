<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>RKManagedObjectRequestOperation Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<meta name="viewport" content="width=550" />
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.1 (build 840)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">RestKit 0.20.0dev </a></h1>
				<a id="developerHome" href="../index.html">Blake Watters</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">RKManagedObjectRequestOperation Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	<option value="properties">Properties</option>
	
	<option value="//api/name/deletesOrphanedObjects">&nbsp;&nbsp;&nbsp;&nbsp;deletesOrphanedObjects</option>
	
	<option value="//api/name/fetchRequestBlocks">&nbsp;&nbsp;&nbsp;&nbsp;fetchRequestBlocks</option>
	
	<option value="//api/name/managedObjectCache">&nbsp;&nbsp;&nbsp;&nbsp;managedObjectCache</option>
	
	<option value="//api/name/managedObjectContext">&nbsp;&nbsp;&nbsp;&nbsp;managedObjectContext</option>
	
	<option value="//api/name/savesToPersistentStore">&nbsp;&nbsp;&nbsp;&nbsp;savesToPersistentStore</option>
	
	
	
	
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Configuring Core Data Integration">Configuring Core Data Integration</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Managing Completion Behaviors">Managing Completion Behaviors</a></span></li>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#properties">Properties</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/deletesOrphanedObjects">deletesOrphanedObjects</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/fetchRequestBlocks">fetchRequestBlocks</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/managedObjectCache">managedObjectCache</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/managedObjectContext">managedObjectContext</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/savesToPersistentStore">savesToPersistentStore</a></span></li>
	
</ul></li>






			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="RKManagedObjectRequestOperation Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">RKManagedObjectRequestOperation Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value"><a href="../Classes/RKObjectRequestOperation.html">RKObjectRequestOperation</a> : NSOperation</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">RKManagedObjectRequestOperation.h</td>
</tr>
						</tbody></table></div>
					
					
					
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p><code>RKManagedObjectRequestOperation</code> is a subclass of <a href="../Classes/RKObjectRequestOperation.html"><code>RKObjectRequestOperation</code></a> that implements object mapping on the response body of an <code>NSHTTPResponse</code> loaded via an <a href="../Classes/RKHTTPRequestOperation.html"><code>RKHTTPRequestOperation</code></a> in which the mapping targets <code>NSManagedObject</code> objects managed by Core Data.</p>

<p>The <code>RKManagedObjectRequestOperation</code> class extends the basic behavior of an <a href="../Classes/RKObjectRequestOperation.html"><code>RKObjectRequestOperation</code></a> to meet the constraints imposed by Core Data. In particular, managed object request operations observe the threading requirements by making use of <code>NSManagedObjectContext</code> concurrency types, leverage the support for parent/child contexts, and handle obtaining a permanent <code>NSManagedObjectID</code> for objects being mapped so that they are addressable across contexts. Object mapping is internally performed within a block provided to the target context via <code>performBlockAndWait:</code>, ensuring execution on the appropriate queue.</p>

<p>Aside from providing the basic infrastructure for successful object mapping into Core Data, a number of additional Core Data specific features are provided by the <code>RKManagedObjectRequestOperation</code> class that warrant discussion in detail.</p>

<h2>Parent Context</h2>

<p>Every <code>RKManagedObjectRequestOperation</code> object must be assigned an <code>NSManagedObjectContext</code> in which to persist the results of the underlying object mapping operation. This context is used as the parent context for a new, private <code>NSManagedObjectContext</code> with a concurrency type of <code>NSPrivateQueueConcurrencyType</code> in which the object mapping is actually performed. The use of this parent context has a number of benefits:</p>

<ol>
<li>If the context that was assigned to the managed object request operation has a concurrency type of <code>NSMainQueueConcurrencyType</code>, then directly mapping into the context would block the execution of the main thread for the duration of the mapping process. The use of the private child context isolates the mapping process from the main thread entirely.</li>
<li>In the event of an error, the private context can be discarded, leaving the state of the parent context unchanged. On successful completion, the private context is saved and &lsquo;pushes&rsquo; its changes up one level into the parent context.</li>
</ol>


<h2>Permanent Managed Object IDs</h2>

<p>One of the confounding factors when working with asycnhronous processes interacting with Core Data is the addressability of managed objects that have not been saved to the persistent store across contexts. Unpersisted <code>NSManagedObject</code> instances have an <code>objectID</code> that is temporary and unsuitable for use in uniquely addressing a given object across two managed object contexts, even if they have common ancestry and share a persistent store coordinator. To mitigate this addressability issue without requiring objects to be saved to the persistent store, managed object request operations invoke <code>obtainPermanentIDsForObjects:</code> on the operation&rsquo;s target object (if any) and all managed objects that were inserted into the context during the mapping process. By the time the operation finishes, all managed objects in the mapping result can be referenced by <code>objectID</code> across contexts with no further action.</p>

<h2>Primary Keys &amp; Managed Object Caching</h2>

<p>When object mapping managed objects it is necessary to differentiate between objects that already exist in the local store and those that are being created as part of the mapping process. This ensures that the local store does not become populated with duplicate records. To make this differentiation, RestKit requires that each <code>NSEntityDescription</code> be configured with a primary key attribute. The primary key must correspond to a static attribute assigned by the remote backend system. During mapping, this key is used to search the managed object context for an existing managed object. If one is found, the object is updated else a new object is created. Primary keys are configured at the entity level and additional discussion accompanies the <code>NSEntityDescription (RKAdditions)</code> category.</p>

<p>Primary key attributes are used in conjunction with the <a href="../Protocols/RKManagedObjectCaching.html"><code>RKManagedObjectCaching</code></a> protocol. Each managed object request operation is associated with an object conforming to the <a href="../Protocols/RKManagedObjectCaching.html"><code>RKManagedObjectCaching</code></a> protocol via the <a href="#//api/name/managedObjectCache"><code>managedObjectCache</code></a> proeprty. This cache is consulted during mapping to find existing objects and when establishing relationships between entities by primary key. Please see the documentation accompanying <a href="../Protocols/RKManagedObjectCaching.html"><code>RKManagedObjectCaching</code></a> and <a href="../Classes/RKConnectionMapping.html"><code>RKConnectionMapping</code></a> for more information.</p>

<h2>Fetching Result Objects</h2>

<p>When a <code>completionBlock</code> is configured for an instance of <code>RKManagedObjectRequestOperation</code> additional work is performed before the mapping result is returned to the caller. Because mapping internally occurs on a private managed object context with the <code>NSPrivateQueueConcurrencyType</code> concurrency type, attempts to directly access the <code>NSManagedObject</code> instances contained within the <a href="../Classes/RKMappingResult.html"><code>RKMappingResult</code></a> would violate the threading constraints imposed by Core Data. As such, before the mapping result is returned to the caller in a completion block the objects are re-fetched from the <a href="#//api/name/managedObjectContext"><code>managedObjectContext</code></a>. Please see <a href="../Classes/RKManagedObjectThreadSafeInvocation.html"><code>RKManagedObjectThreadSafeInvocation</code></a> for details about the implementation.</p>

<p>TODO: Is this necessary?</p>

<h2>Deleting Managed Objects for <code>DELETE</code> requests</h2>

<p><code>RKManagedObjectRequestOperation</code> adds special behavior to <code>DELETE</code> requests. Upon retrieving a successful (2xx status code) response for a <code>DELETE</code>, the operation will invoke <code>deleteObject:</code> with the operations <code>targetObject</code> on the managed object context. This will delete the target object from the local store in conjunction the successfully deleted remote representation.</p>

<h2>Fetch Request Blocks and Deleting Orphaned Objects</h2>

<p>A common problem when accessing remote resources representing collections of objects is the problem of deletion of remote objects. The <code>RKManagedObjectRequestOperation</code> class provides support for the cleanup of such orphaned objects. In order to utilize the functionality, the operation must be able to compare a set of reference objects to the retrieved payload in order to determine which objects exist in the local store, but are no longer being returned by the server. This reference set of objects is built by executing an <code>NSFetchRequest</code> that corresponds to the URL being loaded. Configuration of this fetch request is done via an <code>RKFetchRequestBlock</code> block object. This block takes a single <code>NSURL</code> argument and returns an <code>NSFetchRequest</code> objects. An array of these blocks can be provided to the managed object request operation and the array will be searched in reverse order until a non-nil value is returned by a block. Any block that cannot build a fetch request for the given URL is expected to return <code>nil</code> to indicate that it does not match the given URL. Processing of the URL is typically performed using an <a href="../Classes/RKPathMatcher.html"><code>RKPathMatcher</code></a> object against the value returned from the <code>relativePath</code> or <code>relativeString</code> methods of <code>NSURL</code>.</p>

<p>To illustrate this concept, please consider the following real-world example which builds a fetch request for retrieving the Terminals that exist in an Airport:</p>

<pre><code>RKObjectManager *manager = [RKObjectManager managerWithBaseURL:@"http://restkit.org"]http://restkit.org"];
[manager addFetchRequestBlock:^NSFetchRequest *(NSURL *URL) {
    RKPathMatcher *pathMatcher = [RKPathMatcher pathMatcherWithPattern:@"/airports/:airport_id/terminals.json"];

    NSDictionary *argsDict = nil;
    BOOL match = [pathMatcher matchesPath:[URL relativePath] tokenizeQueryStrings:NO parsedArguments:&amp;argsDict];
    NSString *airportID;
    if (match) {
        airportID = [argsDict objectForKey:@"airport_id"];
        NSFetchRequest *fetchRequest = [NSFetchRequest fetchRequestWithEntityName:@"GGTerminal"];
        NSEntityDescription *entity = [NSEntityDescription entityForName:@"GGAirport" inManagedObjectContext:managedObjectStore.persistentStoreManagedObjectContext];
        fetchRequest.predicate = [entity predicateForPrimaryKeyAttributeWithValue:airportID];
        fetchRequest.sortDescriptors = @[[NSSortDescriptor sortDescriptorWithKey:@"name" ascending:YES]];
        return fetchRequest;
    }

    return nil;
}];
</code></pre>

<p>The above example code defines an <code>RKFetchRequestBlock</code> block object that will match an <code>NSURL</code> with a relative path matching the pattern <code>@"/airports/:airport_id/terminals.json"</code>. If a match is found, the block extracts the <code>airport_id</code> key from the matched arguments and uses it to construct an <code>NSPredicate</code> for the primary key attribute of <code>GGAirport</code> entity. It then constructs an <code>NSFetchRequest</code> for the <code>GGTerminal</code> entity that will retrieve all the managed objects with an airport ID attribute whose value is equal to <code>airport_id</code> encoded within the URL&rsquo;s path.</p>

<p>In more concrete terms, given the URL <a href="http://restkit.org/airports/1234/terminals.json"><code>http://restkit.org/airports/1234/terminals.json</code></a> the block would return an <code>NSFetchRequest</code> equal to:</p>

<pre><code>NSFetchRequest *fetchRequest = [NSFetchRequest fetchRequestWithEntityName:@"GGTerminal"];
fetchRequest.predicate = [NSPredicate predicateWithFormat:@"airportID = 1234"];
fetchRequest.sortDescriptors = @[[NSSortDescriptor sortDescriptorWithKey:@"name" ascending:YES]];
</code></pre>

<p>Once configured and registered with the object manager, any <code>RKManagedObjectRequestOperation</code> created through the manager will automatically consult the fetch request blocks and perform orphaned object cleanup. No cleanup is performed if no block in the <a href="#//api/name/fetchRequestBlocks"><code>fetchRequestBlocks</code></a> property is found to match the URL of the request.</p>

<h2>Managed Object Context Save Behaviors</h2>

<p>The results of the operation can either be &lsquo;pushed&rsquo; to the parent context or saved to the persistent store. Configuration is available via the <a href="#//api/name/savesToPersistentStore"><code>savesToPersistentStore</code></a> property. If an error is encountered while saving the managed object context, then the operation is considered to have failed and the <code>error</code> property will be set to the <code>NSError</code> object returned by the failed save.</p>

<h2>Limitations and Caveats</h2><div class="warning"><p><strong>Warning:</strong> <code>RKManagedObjectRequestOperation</code> <strong>does NOT</strong> support object mapping that targets an <code>NSManagedObjectContext</code> with a <code>concurrencyType</code> of <code>NSConfinementConcurrencyType</code>.</p></div>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						<a title="Configuring Core Data Integration" name="task_Configuring Core Data Integration"></a>
						<h3 class="subsubtitle task-title">Configuring Core Data Integration</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/managedObjectContext">&nbsp;&nbsp;managedObjectContext</a></code>
		<span class="tooltip"><p>The managed object context associated with the managed object request operation.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/managedObjectCache">&nbsp;&nbsp;managedObjectCache</a></code>
		<span class="tooltip"><p>The managed object cache associated with the managed object request operation.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/fetchRequestBlocks">&nbsp;&nbsp;fetchRequestBlocks</a></code>
		<span class="tooltip"><p>An array of <code>RKFetchRequestBlock</code> block objects used to map <code>NSURL</code> objects into corresponding <code>NSFetchRequest</code> objects.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li>
						</ul>
						
						
						<a title="Managing Completion Behaviors" name="task_Managing Completion Behaviors"></a>
						<h3 class="subsubtitle task-title">Managing Completion Behaviors</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/deletesOrphanedObjects">&nbsp;&nbsp;deletesOrphanedObjects</a></code>
		<span class="tooltip"><p>A Boolean value that determines if the receiver will delete orphaned objects upon completion of the operation.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/savesToPersistentStore">&nbsp;&nbsp;savesToPersistentStore</a></code>
		<span class="tooltip"><p>A Boolean value that determines if the operation saves the mapping results to the persistent store upon successful completion. If the network transport or mapping portions of the operation fail the operation then this option has no effect.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Properties" name="properties"></a>
						<h2 class="subtitle subtitle-methods">Properties</h2>
						
						<div class="section-method">
	<a name="//api/name/deletesOrphanedObjects" title="deletesOrphanedObjects"></a>
	<h3 class="subsubtitle method-title">deletesOrphanedObjects</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>A Boolean value that determines if the receiver will delete orphaned objects upon completion of the operation.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) BOOL deletesOrphanedObjects</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>A Boolean value that determines if the receiver will delete orphaned objects upon completion of the operation.</p>

<p>Please see the above discussion of &lsquo;Deleting Managed Objects for <code>DELETE</code> requests&rsquo; for more details.</p>

<p><strong>Default</strong>: <code>NO</code></p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">RKManagedObjectRequestOperation.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/fetchRequestBlocks" title="fetchRequestBlocks"></a>
	<h3 class="subsubtitle method-title">fetchRequestBlocks</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>An array of <code>RKFetchRequestBlock</code> block objects used to map <code>NSURL</code> objects into corresponding <code>NSFetchRequest</code> objects.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, copy) NSArray *fetchRequestBlocks</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>An array of <code>RKFetchRequestBlock</code> block objects used to map <code>NSURL</code> objects into corresponding <code>NSFetchRequest</code> objects.</p>

<p>Fetch requests corresponding to URL&rsquo;s are used when deleting orphaned objects and completing object request operations in which <code>avoidsNetworkAccess</code> has been set to <code>YES</code>. Please see the above discussion of &lsquo;Fetch Request Blocks&rsquo; for more details.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">RKManagedObjectRequestOperation.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/managedObjectCache" title="managedObjectCache"></a>
	<h3 class="subsubtitle method-title">managedObjectCache</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The managed object cache associated with the managed object request operation.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, weak) id&lt;RKManagedObjectCaching&gt; managedObjectCache</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>The managed object cache associated with the managed object request operation.</p>

<p>The cache is used to look up existing objects by primary key to prevent the creation of duplicate objects during mapping. Please see the above discussion of &lsquo;Managed Object Caching&rsquo; for more details.</p><div class="warning"><p><strong>Warning:</strong> A <code>nil</code> value for the <code>managedObjectCache</code> property is valid, but may result in the creation of duplicate objects.</p></div>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">RKManagedObjectRequestOperation.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/managedObjectContext" title="managedObjectContext"></a>
	<h3 class="subsubtitle method-title">managedObjectContext</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The managed object context associated with the managed object request operation.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, strong) NSManagedObjectContext *managedObjectContext</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>The managed object context associated with the managed object request operation.</p>

<p>This context acts as the parent context for a private managed object context in which the object mapping is performed and changes will be saved to this context upon successful completion of the operation.</p>

<p>Please see the above discussion about &lsquo;Parent Context&rsquo; for details.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">RKManagedObjectRequestOperation.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/savesToPersistentStore" title="savesToPersistentStore"></a>
	<h3 class="subsubtitle method-title">savesToPersistentStore</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>A Boolean value that determines if the operation saves the mapping results to the persistent store upon successful completion. If the network transport or mapping portions of the operation fail the operation then this option has no effect.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) BOOL savesToPersistentStore</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>A Boolean value that determines if the operation saves the mapping results to the persistent store upon successful completion. If the network transport or mapping portions of the operation fail the operation then this option has no effect.</p>

<p>When <code>YES</code>, the receiver will invoke <code>saveToPersistentStore:</code> on its private managed object context to persist the mapping results all the way back to the persistent store coordinator. If <code>NO</code>, the private mapping context will be saved causing the mapped objects to be &lsquo;pushed&rsquo; to the parent context as represented by the <a href="#//api/name/managedObjectContext"><code>managedObjectContext</code></a> property.</p>

<p><strong>Default</strong>: <code>YES</code></p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">RKManagedObjectRequestOperation.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					
					
					
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2012 Blake Watters. All rights reserved. (Last updated: 2012-10-24)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.1 (build 840)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>